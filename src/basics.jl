# using Yao
# using YaoPlots
using Plots
const âŠ— = kron

# |0> = [1. + 0im, 0. + 0im]
# |1> = [0. + 0im, 1. + 0im]
# |+> = (|0> + |1>) / âˆš2 == [1/âˆš2 + 0im, 1/âˆš2 + 0im]
# |_> = (|0> - |1>) / âˆš2 == [1/âˆš2 + 0im,-1/âˆš2 + 0im]

# X * |0> == |1>
# H * |0> == |+>
# H * |1> == |_>

# A state |Ïˆ> == Î±|0> + Î²|1> == 1
# probability == |Ïˆ|Â²

# Hadamard
# H(Î±|0> + Î²|1>) = Î±/âˆš2(Î±|0> + Î²|1>) + Î²/âˆš2(Î±|0> - Î²|1>)
#                = (Î±+Î²)/âˆš2  * (|0>) + (Î±-Î²)/âˆš2  * (|1>)

# circuit = zero_state(1, nbatch=2)
# circuit = circuit |> put(1, 1=>H)
# circuit.state

1/âˆš2
id =  [1 0
       0 1]

Ïƒâ‚“ =  [0 1
      1 0]

Ïƒáµ§ = [0 -im
     im  0]

Ïƒğ‘§ =  [1  0
      0 -1]

S = [1  0
     0 im]

T = âˆšS        #[1 0
              # 0 â„¯^(im*(Ï€/4))]

H = (1/âˆš2) * [1  1
              1 -1] .+ 0im

RX = [cos(1/2)    -sin(1/2)im
     -sin(1/2)im   cos(1/2)]

RY = [cos(1/2) -sin(1/2)
      sin(1/2)  cos(1/2)]

RZ = [â„¯^(1/2im)  0
      0          â„¯^(1/2im)]

cx =  [1 0 0 0
       0 1 0 0
       0 0 0 1
       0 0 1 0]

cy =  [1   0   0   0
       0   1   0   0
       0   0   0  -im
       0   0   im  0]

cz =  [1  0  0  0
       0  1  0  0
       0  0  1  0
       0  0  0 -1]

swap = [1 0 0 0
        0 0 1 0
        0 1 0 0
        0 0 0 1]

ising = [cos(1)    0        0       -im*sin(1)
         0         cos(1)  -sin(1)im 0
         0        -sin(1)im cos(1)   0
        -sin(1)im  0        0        cos(1)]

ccX =  [1 0 0 0 0 0 0 0
        0 1 0 0 0 0 0 0
        0 0 1 0 0 0 0 0
        0 0 0 1 0 0 0 0
        0 0 0 0 1 0 0 0
        0 0 0 0 0 1 0 0
        0 0 0 0 0 0 0 1
        0 0 0 0 0 0 1 0]

cswap = [1 0 0 0 0 0 0 0
         0 1 0 0 0 0 0 0
         0 0 1 0 0 0 0 0
         0 0 0 1 0 0 0 0
         0 0 0 0 1 0 0 0
         0 0 0 0 0 0 1 0
         0 0 0 0 0 1 0 0
         0 0 0 0 0 0 0 1]

bellstate = câ‚“ * (H âŠ— id)

invbell = (H âŠ— id) * câ‚“

rotationX(Î¸) = [cos(Î¸/2)   -sin(Î¸/2)im
               -sin(Î¸/2)im  cos(Î¸/2)]

rotationY(Î¸) = [cos(Î¸/2) -sin(Î¸/2)
                sin(Î¸/2)  cos(Î¸/2)]

rotationZ(Î¸) = [â„¯^(Î¸/2im) 0
                0        â„¯^(Î¸/2im)]

Ï†0 = [1. + 0im, 0. + 0im]
Ï†1 = [0. + 0im, 1. + 0im]
Ï†x = [1/âˆš2 + 0im, 1/âˆš2 + 0im] # == H * Ï†0
Ï†y = [1/âˆš2 + 0im,-1/âˆš2 + 0im] # == H * Ï†1

X * Ï†0 == Ï†1
H * Ï†0 == Ï†x
H * Ï†1 == (1/âˆš2)*(Ï†0-Ï†1) == Ï†y
Ï†y == (Ï†0 - Ï†1) / âˆš2 == [1/âˆš2 + 0im,-1/âˆš2 + 0im]
Ï†0 - Ï†1

H * Ï†0
swap * (Ï†1 âŠ— Ï†0)
